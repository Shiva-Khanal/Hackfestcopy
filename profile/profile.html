<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Study Quest - Profile</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;700;900&family=Noto+Sans:wght@400;500;700;900&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet" />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

  <!-- Custom Styles -->
  <!-- <link rel="stylesheet" href="../dashboard.css" /> -->
  <!-- <link rel="stylesheet" href="profile.css" /> -->

  <style>

/* Nav bar */
.topbar {   
    margin: 0 auto;          
    padding: 0px 40px;   
    background: #FFF5F2		;
    color: #111;            
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: relative;
    z-index: 2;
    opacity: 0.97;
    box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}


/* Nav links */
.nav-links {
    display: flex;
    gap: 40px;
}

.nav-links a {
    color: #1a1a1a;             
    text-decoration: none;
    font-size: 0.95rem;
    font-weight: 500;
    transition: color 0.3s ease;
}

.nav-links a:hover {
    color: #898AC4; /* muted violet-blue on hover */
}

/* Profile button */
.topbar-right {
    color: rgb(0, 0, 0);
}

.profile {
    cursor: pointer;
}

/* Logo */
.topbar-left img {
    height: 60px;
    margin-right: 12px;
    border-radius: 70%;  
    object-fit: cover;   
}
body {
    margin: 0;
    font-family: "Segoe UI", Arial, sans-serif;
    background: linear-gradient(
        135deg,
        #EEF2F7 0%,
        #EEF2F7 25%,
        #C7D3E9 25%,
        #C7D3E9 50%,
        #90A1D5 50%,
        #90A1D5 75%,
        #5D6BB3 75%,
        #5D6BB3 100%
    );
    color: #1a1a1a;
    position: relative;
    min-height: 100vh;
    overflow-x: hidden;
}

  </style>
</head>

<body>

   <!-- Header -->
    <div class="topbar">
        <div class="topbar-left">
            <img src="/images/logo.png" alt="Study Quest Logo">
        </div>
        <nav class="nav-links">
            <a href="../inbuilt/inbuilt.html" id="Inbuilt">Inbuilt Test</a>
            <a href="../selftest/selftest.html" id="Selftest">Self Test</a>
            <a href="../notes/notes.html" id="Notes">Notes</a>
            <a href="../review/review.html" id="Review">Review</a>
            <a href="../selfstudy/study.html" id="Selfstudy">Self Study</a>
        </nav>
        <div class="topbar-right nav-links">
            <a  href="../profile/profile.html" id="profile">Profile</a>
        </div>
    </div>

  <!-- Main Content -->
  <div class="relative flex min-h-screen flex-col overflow-x-hidden">
    <div class="layout-container flex h-full grow flex-col text-[#111418]">
      <div class="px-8 md:px-40 flex flex-1 justify-center py-10">
        <div class="layout-content-container flex flex-col max-w-[960px] w-full flex-1 gap-8">

          <!-- Profile Info + Edit Button -->
          <div class="flex flex-col items-center gap-2 p-6 rounded-xl bg-transparent">
            <div class="flex flex-col items-center gap-2">
              <div
                class="bg-center bg-no-repeat bg-cover rounded-full aspect-square min-h-32 w-32"
                style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuD3lccH8hmUtQ_HBhY8zO60gu6ozWXtmyE7eYpfAuxdhtqCynv1HVm8LkZsMYBMLYNZ9GuSYnTkh1psNtxrA9o9IQHcX1Vk5MWxCZhAOiYbWH1ZuGkr0lnTIio0lp6QBkPGYkv3nq0oxBKdoQD-b1ce36t4wvoehNhat4eDnAPXFC6pLBSCS-Q1LFCsHIJ40DGZOuRb_6sjQq5irLoSYp0kQUKMeG9XtU7bvi337RpVJVz86XNBsYidQSoONZ7CjCBe8WNUPz5LTYAz');">
              </div>
              <p class="text-black text-[22px] font-bold mt-2">Emily</p>
              <p class="text-black-100 text-base">Student</p>
              <button
                class="mt-4 px-4 py-2 bg-[#359dff] rounded text-white hover:bg-[#1a6fd8] transition"
                aria-label="Edit Profile"
              >
                Edit Profile
              </button>
            </div>
          </div>

          <!-- Progress -->
          <div class="p-6 rounded-xl shadow-lg bg-white/85 flex flex-col gap-4">
            <h2 class="text-[#003080] text-[22px] font-bold pb-2">My Progress</h2>
            <div class="flex justify-between items-center">
              <p class="font-medium">Overall Progress</p>
              <p class="text-sm">75%</p>
            </div>
            <div class="w-full h-2 bg-[#dbe0e6] rounded">
              <div class="h-2 rounded bg-[#359dff]" style="width: 75%;"></div>
            </div>
            <p class="text-blue-800 text-sm pt-1">You're doing great, keep it up!</p>
          </div>

          <!-- Stats -->
          <div class="flex flex-wrap gap-4 justify-between">
            <div class="flex-1 min-w-[180px] p-6 rounded-xl shadow-lg bg-white/85 flex flex-col gap-2">
              <p  class="text-[#003080] font-medium">Points Earned </p>
              <p id="points-display" class="text-2xl font-bold">1250</p>
            </div>
            <div class="flex-1 min-w-[180px] p-6 rounded-xl shadow-lg bg-white/85 flex flex-col gap-2">
              <p class="text-[#003080] font-medium">Quizzes Completed</p>
              <p class="text-2xl font-bold">15</p>
            </div>
            <div class="flex-1 min-w-[180px] p-6 rounded-xl shadow-lg bg-white/85 flex flex-col gap-2">
              <p class="text-[#003080] font-medium">Badges Earned</p>
              <p class="text-2xl font-bold">5</p>
            </div>
          </div>

          <!-- Badges Section -->
          <div class="p-6 rounded-xl shadow-lg bg-white/85 flex flex-col gap-4">
            <h2 class="text-[#003080] text-[22px] font-bold pb-2">Achievements & Badges</h2>
            <div class="flex flex-wrap gap-4">
              <!-- Placeholder badges -->
              <div class="w-20 h-20 bg-blue-300 rounded flex items-center justify-center text-white font-bold text-sm">üèÜ Badge 1</div>
              <div class="w-20 h-20 bg-blue-400 rounded flex items-center justify-center text-white font-bold text-sm">üéñ Badge 2</div>
              <div class="w-20 h-20 bg-blue-500 rounded flex items-center justify-center text-white font-bold text-sm">ü•á Badge 3</div>
              <div class="w-20 h-20 bg-blue-600 rounded flex items-center justify-center text-white font-bold text-sm">üèÖ Badge 4</div>
              <div class="w-20 h-20 bg-blue-700 rounded flex items-center justify-center text-white font-bold text-sm">üéØ Badge 5</div>
            </div>
          </div>

          <!-- Graph Section -->
          <div class="p-6 rounded-xl shadow-lg bg-white/85 flex flex-col gap-4">
            <h2 class="text-[#003080] text-[22px] font-bold pb-2">Performance Graph</h2>
            <canvas id="performanceGraph" class="w-full h-48 rounded bg-white"></canvas>
          </div>

          <!-- Upcoming Quizzes -->
          <div class="p-6 rounded-xl shadow-lg bg-white/85 flex flex-col gap-4">
            <h2 class="text-[#003080] text-[22px] font-bold pb-2">Upcoming Quizzes</h2>
            <div class="flex flex-col gap-2">
              <div class="flex justify-between">
                <span class="font-medium">Maths - Algebra Basics</span>
                <span class="text-blue-800 text-sm">Aug 20, 2025</span>
              </div>
              <div class="flex justify-between">
                <span class="font-medium">Science - Physics Quiz</span>
                <span class="text-blue-800 text-sm">Aug 22, 2025</span>
              </div>
            </div>
          </div>

          <!-- Recent Activity -->
          <div class="p-6 rounded-xl shadow-lg bg-white/85 flex flex-col gap-4">
            <h2 class="text-[#003080] text-[22px] font-bold pb-2">Recent Activity</h2>
            <div class="flex flex-col gap-2">
              <div class="flex justify-between">
                <span>Completed: <b>Biology Quiz</b></span>
                <span class="text-blue-800 text-sm">2 hours ago</span>
              </div>
              <div class="flex justify-between">
                <span>Earned badge: <b>Quiz Master</b></span>
                <span class="text-blue-800 text-sm">Yesterday</span>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <script>
    // Simple line graph for performance
    const canvas = document.getElementById('performanceGraph');
    const ctx = canvas.getContext('2d');

    function resizeCanvas() {
      const dpr = window.devicePixelRatio || 1;
      canvas.width = canvas.clientWidth * dpr;
      canvas.height = canvas.clientHeight * dpr;
      ctx.scale(dpr, dpr);
      drawGraph();
    }

    const data = [20, 40, 50, 65, 70, 75, 80];
    const labels = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];

    function drawGraph() {
      const width = canvas.clientWidth;
      const height = canvas.clientHeight;
      ctx.clearRect(0, 0, width, height);

      // Draw axes
      ctx.strokeStyle = '#003080';
      ctx.lineWidth = 2;
      ctx.beginPath();
      ctx.moveTo(40, 10);
      ctx.lineTo(40, height - 30);
      ctx.lineTo(width - 10, height - 30);
      ctx.stroke();

      // Draw data line
      ctx.strokeStyle = '#359dff';
      ctx.lineWidth = 3;
      ctx.beginPath();

      const maxData = 100;
      const stepX = (width - 60) / (data.length - 1);
      data.forEach((point, i) => {
        const x = 40 + stepX * i;
        const y = height - 30 - ((point / maxData) * (height - 50));
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      });
      ctx.stroke();

      // Draw data points
      ctx.fillStyle = '#0077ff';
      data.forEach((point, i) => {
        const x = 40 + stepX * i;
        const y = height - 30 - ((point / maxData) * (height - 50));
        ctx.beginPath();
        ctx.arc(x, y, 5, 0, 2 * Math.PI);
        ctx.fill();

        // Labels
        ctx.fillStyle = '#003080';
        ctx.font = '12px Lexend, sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText(labels[i], x, height - 10);
        ctx.fillStyle = '#0077ff';
      });
    }

    window.addEventListener('resize', () => {
      // Reset scale on resize to avoid cumulative scaling
      ctx.setTransform(1, 0, 0, 1, 0, 0);
      resizeCanvas();
    });

    resizeCanvas();

    const points = localStorage.getItem("points") || 0;
    document.getElementById("points-display").textContent = `${points}`; 
    document.getElementById("Inbuilt").addEventListener("click", function(event) {
    let points = Number(localStorage.getItem("points")) || 0;

    if (points < 5) {
        event.preventDefault(); // Stop the link from going to feature1.html
        alert(`You need at least 5 points for this feature. You have ${points}.`);
    }
    // If points >= 5, the link works normally and navigates
});
document.getElementById("Selftest").addEventListener("click", function(event) {
    let points = Number(localStorage.getItem("points")) || 0;

    if (points < 15) {
        event.preventDefault();
        alert(`You need at least 15 points for this feature. You have ${points}.`);
    }
});
document.getElementById("Notes").addEventListener("click", function(event) {
    let points = Number(localStorage.getItem("points")) || 0;

    if (points < 10) {
        event.preventDefault();
        alert(`You need at least 10 points for this feature. You have ${points}.`);
    }
});
document.getElementById("Review").addEventListener("click", function(event) {
    let points = Number(localStorage.getItem("points")) || 0;

    if (points < 20) {
        event.preventDefault();
        alert(`You need at least 20 points for this feature. You have ${points}.`);
    }
});
document.getElementById("Selfstudy").addEventListener("click", function(event) {
    let points = Number(localStorage.getItem("points")) || 0;

    if (points < 5) {
        event.preventDefault();
        alert(`You need at least 5 points for this feature. You have ${points}.`);
    }
});
      </script>

</body>
</html>
